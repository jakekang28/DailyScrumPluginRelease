<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Get Extension ID</title>
  <style>
    body {
      width: 400px;
      padding: 20px;
      font-family: monospace;
    }
    .box {
      background: #f0f0f0;
      padding: 15px;
      border: 2px solid #333;
      border-radius: 5px;
      margin: 10px 0;
    }
    .id {
      font-size: 16px;
      font-weight: bold;
      color: #007bff;
      word-break: break-all;
    }
    .uri {
      font-size: 14px;
      color: #28a745;
      word-break: break-all;
      margin-top: 10px;
    }
    button {
      padding: 10px 20px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover {
      background: #0056b3;
    }
    .success {
      background: #d4edda;
      padding: 10px;
      border-radius: 5px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h2>ğŸ”‘ Extension ID í™•ì¸</h2>

  <div class="box">
    <p><strong>Extension ID:</strong></p>
    <div class="id" id="extensionId">Loading...</div>

    <p><strong>Redirect URI (Google Cloud Consoleì— ë“±ë¡):</strong></p>
    <div class="uri" id="redirectUri">Loading...</div>
  </div>

  <button id="copyId">ğŸ“‹ Extension ID ë³µì‚¬</button>
  <button id="copyUri">ğŸ“‹ Redirect URI ë³µì‚¬</button>

  <div id="success" class="success" style="display:none;">
    âœ… ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!
  </div>

  <hr>

  <h3>ğŸ“ ë‹¤ìŒ ë‹¨ê³„:</h3>
  <ol>
    <li><strong>Google Cloud Console</strong> ì ‘ì†
      <br><a href="https://console.cloud.google.com/apis/credentials" target="_blank">
        https://console.cloud.google.com/apis/credentials
      </a>
    </li>
    <li><strong>OAuth 2.0 í´ë¼ì´ì–¸íŠ¸ ID</strong> ì„ íƒ (ê¸°ì¡´ í´ë¼ì´ì–¸íŠ¸ ID í¸ì§‘)</li>
    <li><strong>ìŠ¹ì¸ëœ ë¦¬ë””ë ‰ì…˜ URI</strong> ì„¹ì…˜ì—ì„œ <button id="copyUri2" style="padding:3px 8px;font-size:11px;">ğŸ“‹ ë³µì‚¬</button></li>
    <li>ìœ„ì˜ <strong>Redirect URI</strong>ë¥¼ ì¶”ê°€</li>
    <li><strong>ì €ì¥</strong> í´ë¦­</li>
    <li>í™•ì¥ í”„ë¡œê·¸ë¨ì—ì„œ ë‹¤ì‹œ Google ë¡œê·¸ì¸ ì‹œë„</li>
  </ol>

  <h3>âš ï¸ ì£¼ì˜ì‚¬í•­:</h3>
  <ul>
    <li><strong>ê°œë°œ í™˜ê²½</strong>: Extension IDëŠ” unpacked extension ê²½ë¡œê°€ ë°”ë€Œë©´ ë³€ê²½ë¨</li>
    <li><strong>í”„ë¡œë•ì…˜ í™˜ê²½</strong>: Packed extensionì€ ê³ ì •ëœ IDë¥¼ ê°€ì§</li>
    <li>ê° í™˜ê²½ë§ˆë‹¤ ë³„ë„ì˜ redirect URIë¥¼ ë“±ë¡í•´ì•¼ í•¨</li>
  </ul>

  <script>
    const extensionId = chrome.runtime.id;
    const redirectUri = `https://${extensionId}.chromiumapp.org/`;

    document.getElementById('extensionId').textContent = extensionId;
    document.getElementById('redirectUri').textContent = redirectUri;

    function showSuccess() {
      const success = document.getElementById('success');
      success.style.display = 'block';
      setTimeout(() => {
        success.style.display = 'none';
      }, 2000);
    }

    document.getElementById('copyId').addEventListener('click', () => {
      navigator.clipboard.writeText(extensionId);
      showSuccess();
    });

    document.getElementById('copyUri').addEventListener('click', () => {
      navigator.clipboard.writeText(redirectUri);
      showSuccess();
    });

    document.getElementById('copyUri2').addEventListener('click', () => {
      navigator.clipboard.writeText(redirectUri);
      showSuccess();
    });

    // ìë™ìœ¼ë¡œ ì½˜ì†”ì—ë„ ì¶œë ¥
    console.log('Extension ID:', extensionId);
    console.log('Redirect URI:', redirectUri);
    console.log('\nGoogle Cloud Console ì„¤ì •:');
    console.log('1. https://console.cloud.google.com/apis/credentials');
    console.log('2. OAuth 2.0 Client ID í¸ì§‘');
    console.log('3. ìŠ¹ì¸ëœ ë¦¬ë””ë ‰ì…˜ URIì— ì¶”ê°€:', redirectUri);
  </script>
</body>
</html>
